import{e as Ue,r as Ae,m as W,g as Te,i as at,w as ot,a as nt,b as X,c as xe,t as st,o as it,n as lt,d as ut,f as qe,h as T,j as J,k as ct,s as ft,l as M,p as de,q as m,u as dt,N as pt,v as be,x as Q,y as d,z as y,_ as gt,A as g,B as we,C as _t,F as mt,D as b,E as vt,G as ht,H as yt,I as Ct,J as bt,K as wt,L as kt,M as St,O as F,P as jt,Q as Et}from"./vendor.afd6a46f.js";const Ot=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}};Ot();var Pt=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Be;const re=e=>Be=e,$e=Symbol();function pe(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Z;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Z||(Z={}));function Lt(){const e=Ue(!0),t=e.run(()=>Ae({}));let a=[],r=[];const o=W({install(n){re(o),o._a=n,n.provide($e,o),n.config.globalProperties.$pinia=o,r.forEach(s=>a.push(s)),r=[]},use(n){return!this._a&&!Pt?r.push(n):a.push(n),this},_p:a,_a:null,_e:e,_s:new Map,state:t});return o}const Me=()=>{};function ke(e,t,a,r=Me){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!a&&Te()&&it(o),o}function I(e,...t){e.slice().forEach(a=>{a(...t)})}function ge(e,t){for(const a in t){if(!t.hasOwnProperty(a))continue;const r=t[a],o=e[a];pe(o)&&pe(r)&&e.hasOwnProperty(a)&&!X(r)&&!xe(r)?e[a]=ge(o,r):e[a]=r}return e}const Ut=Symbol();function At(e){return!pe(e)||!e.hasOwnProperty(Ut)}const{assign:x}=Object;function Tt(e){return!!(X(e)&&e.effect)}function xt(e,t,a,r){const{state:o,actions:n,getters:s}=t,i=a.state.value[e];let l;function c(){i||(a.state.value[e]=o?o():{});const p=ut(a.state.value[e]);return x(p,n,Object.keys(s||{}).reduce((f,_)=>(f[_]=W(qe(()=>{re(a);const w=a._s.get(e);return s[_].call(w,w)})),f),{}))}return l=Fe(e,c,t,a,r,!0),l.$reset=function(){const f=o?o():{};this.$patch(_=>{x(_,f)})},l}function Fe(e,t,a={},r,o,n){let s;const i=x({actions:{}},a),l={deep:!0};let c,p,f=W([]),_=W([]),w;const v=r.state.value[e];!n&&!v&&(r.state.value[e]={}),Ae({});let j;function V(S){let k;c=p=!1,typeof S=="function"?(S(r.state.value[e]),k={type:Z.patchFunction,storeId:e,events:w}):(ge(r.state.value[e],S),k={type:Z.patchObject,payload:S,storeId:e,events:w});const B=j=Symbol();lt().then(()=>{j===B&&(c=!0)}),p=!0,I(f,k,r.state.value[e])}const se=Me;function h(){s.stop(),f=[],_=[],r._s.delete(e)}function Ce(S,k){return function(){re(r);const B=Array.from(arguments),z=[],R=[];function tt(P){z.push(P)}function rt(P){R.push(P)}I(_,{args:B,name:S,store:A,after:tt,onError:rt});let H;try{H=k.apply(this&&this.$id===e?this:A,B)}catch(P){throw I(R,P),P}return H instanceof Promise?H.then(P=>(I(z,P),P)).catch(P=>(I(R,P),Promise.reject(P))):(I(z,H),H)}}const et={_p:r,$id:e,$onAction:ke.bind(null,_),$patch:V,$reset:se,$subscribe(S,k={}){const B=ke(f,S,k.detached,()=>z()),z=s.run(()=>ot(()=>r.state.value[e],R=>{(k.flush==="sync"?p:c)&&S({storeId:e,type:Z.direct,events:w},R)},x({},l,k)));return B},$dispose:h},A=nt(x({},et));r._s.set(e,A);const D=r._e.run(()=>(s=Ue(),s.run(()=>t())));for(const S in D){const k=D[S];if(X(k)&&!Tt(k)||xe(k))n||(v&&At(k)&&(X(k)?k.value=v[S]:ge(k,v[S])),r.state.value[e][S]=k);else if(typeof k=="function"){const B=Ce(S,k);D[S]=B,i.actions[S]=k}}return x(A,D),x(st(A),D),Object.defineProperty(A,"$state",{get:()=>r.state.value[e],set:S=>{V(k=>{x(k,S)})}}),r._p.forEach(S=>{x(A,s.run(()=>S({store:A,app:r._a,pinia:r,options:i})))}),v&&n&&a.hydrate&&a.hydrate(A.$state,v),c=!0,p=!0,A}function qt(e,t,a){let r,o;const n=typeof t=="function";typeof e=="string"?(r=e,o=n?a:t):(o=e,r=e.id);function s(i,l){const c=Te();return i=i||c&&at($e),i&&re(i),i=Be,i._s.has(r)||(n?Fe(r,t,o,i):xt(r,o,i)),i._s.get(r)}return s.$id=r,s}var u={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var L=function(){return L=Object.assign||function(t){for(var a,r=1,o=arguments.length;r<o;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},L.apply(this,arguments)},Bt={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{\u0130:"i",I:"\u0131",I\u0307:"i"}},az:{regexp:/\u0130/g,map:{\u0130:"i",I:"\u0131",I\u0307:"i"}},lt:{regexp:/\u0049|\u004A|\u012E|\u00CC|\u00CD|\u0128/g,map:{I:"i\u0307",J:"j\u0307",\u012E:"\u012F\u0307",\u00CC:"i\u0307\u0300",\u00CD:"i\u0307\u0301",\u0128:"i\u0307\u0303"}}};function $t(e,t){var a=Bt[t.toLowerCase()];return Y(a?e.replace(a.regexp,function(r){return a.map[r]}):e)}function Y(e){return e.toLowerCase()}var Mt=Object.freeze(Object.defineProperty({__proto__:null,localeLowerCase:$t,lowerCase:Y},Symbol.toStringTag,{value:"Module"})),Ft=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],It=/[^A-Z0-9]+/gi;function K(e,t){t===void 0&&(t={});for(var a=t.splitRegexp,r=a===void 0?Ft:a,o=t.stripRegexp,n=o===void 0?It:o,s=t.transform,i=s===void 0?Y:s,l=t.delimiter,c=l===void 0?" ":l,p=Se(Se(e,r,"$1\0$2"),n,"\0"),f=0,_=p.length;p.charAt(f)==="\0";)f++;for(;p.charAt(_-1)==="\0";)_--;return p.slice(f,_).split("\0").map(i).join(c)}function Se(e,t,a){return t instanceof RegExp?e.replace(t,a):t.reduce(function(r,o){return r.replace(o,a)},e)}function ve(e,t){var a=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&a>="0"&&a<="9"?"_"+a+r:""+a.toUpperCase()+r}function Ie(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function Ke(e,t){return t===void 0&&(t={}),K(e,L({delimiter:"",transform:ve},t))}function De(e,t){return t===0?e.toLowerCase():ve(e,t)}function Kt(e,t){return t===0?e.toLowerCase():Ie(e)}function Dt(e,t){return t===void 0&&(t={}),Ke(e,L({transform:De},t))}function he(e){return e.charAt(0).toUpperCase()+e.substr(1)}var zt=Object.freeze(Object.defineProperty({__proto__:null,upperCaseFirst:he},Symbol.toStringTag,{value:"Module"}));function ze(e){return he(e.toLowerCase())}function Re(e,t){return t===void 0&&(t={}),K(e,L({delimiter:" ",transform:ze},t))}var Rt={tr:{regexp:/[\u0069]/g,map:{i:"\u0130"}},az:{regexp:/[\u0069]/g,map:{i:"\u0130"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{i\u0307:"I",j\u0307:"J",\u012F\u0307:"\u012E",i\u0307\u0300:"\xCC",i\u0307\u0301:"\xCD",i\u0307\u0303:"\u0128"}}};function Ht(e,t){var a=Rt[t.toLowerCase()];return ee(a?e.replace(a.regexp,function(r){return a.map[r]}):e)}function ee(e){return e.toUpperCase()}var Zt=Object.freeze(Object.defineProperty({__proto__:null,localeUpperCase:Ht,upperCase:ee},Symbol.toStringTag,{value:"Module"}));function Nt(e,t){return t===void 0&&(t={}),K(e,L({delimiter:"_",transform:ee},t))}function ae(e,t){return t===void 0&&(t={}),K(e,L({delimiter:"."},t))}function Vt(e,t){return t===void 0&&(t={}),Re(e,L({delimiter:"-"},t))}function Jt(e,t){return t===void 0&&(t={}),ae(e,L({delimiter:"-"},t))}function Gt(e,t){return t===void 0&&(t={}),ae(e,L({delimiter:"/"},t))}function He(e,t){var a=e.toLowerCase();return t===0?he(a):a}function Qt(e,t){return t===void 0&&(t={}),K(e,L({delimiter:" ",transform:He},t))}function Wt(e,t){return t===void 0&&(t={}),ae(e,L({delimiter:"_"},t))}var Xt=Object.freeze(Object.defineProperty({__proto__:null,camelCaseTransform:De,camelCaseTransformMerge:Kt,camelCase:Dt,capitalCaseTransform:ze,capitalCase:Re,constantCase:Nt,dotCase:ae,headerCase:Vt,noCase:K,paramCase:Jt,pascalCaseTransform:ve,pascalCaseTransformMerge:Ie,pascalCase:Ke,pathCase:Gt,sentenceCaseTransform:He,sentenceCase:Qt,snakeCase:Wt},Symbol.toStringTag,{value:"Module"})),Yt=T(Xt),er=T(Mt);function tr(e){return e.charAt(0).toLowerCase()+e.substr(1)}var rr=Object.freeze(Object.defineProperty({__proto__:null,lowerCaseFirst:tr},Symbol.toStringTag,{value:"Module"})),ar=T(rr);function or(e){for(var t="",a=0;a<e.length;a++)t+=Math.random()>.5?e[a].toUpperCase():e[a].toLowerCase();return t}var nr=Object.freeze(Object.defineProperty({__proto__:null,spongeCase:or},Symbol.toStringTag,{value:"Module"})),sr=T(nr);function ir(e){for(var t="",a=0;a<e.length;a++){var r=e[a].toLowerCase();t+=e[a]===r?e[a].toUpperCase():r}return t}var lr=Object.freeze(Object.defineProperty({__proto__:null,swapCase:ir},Symbol.toStringTag,{value:"Module"})),ur=T(lr),cr=/\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\.?|versus|via|when|with|without|yet)\b/i,fr=/[^\s:–—-]+|./g,dr=/\s/,pr=/.(?=[A-Z]|\..)/,gr=/[A-Za-z0-9\u00C0-\u00FF]/;function _r(e){for(var t="",a;(a=fr.exec(e))!==null;){var r=a[0],o=a.index;if(!pr.test(r)&&(!cr.test(r)||o===0||o+r.length===e.length)&&(e.charAt(o+r.length)!==":"||dr.test(e.charAt(o+r.length+1)))){t+=r.replace(gr,function(n){return n.toUpperCase()});continue}t+=r}return t}var mr=Object.freeze(Object.defineProperty({__proto__:null,titleCase:_r},Symbol.toStringTag,{value:"Module"})),vr=T(mr),hr=T(Zt),yr=T(zt);function Cr(e){return e.toUpperCase()===e&&e.toLowerCase()!==e}var br=Object.freeze(Object.defineProperty({__proto__:null,isUpperCase:Cr},Symbol.toStringTag,{value:"Module"})),wr=T(br);function kr(e){return e.toLowerCase()===e&&e.toUpperCase()!==e}var Sr=Object.freeze(Object.defineProperty({__proto__:null,isLowerCase:kr},Symbol.toStringTag,{value:"Module"})),jr=T(Sr);Object.defineProperty(u,"__esModule",{value:!0});u.isLowerCase=u.isUpperCase=u.upperCaseFirst=u.localeUpperCase=u.upperCase=u.titleCase=u.swapCase=u.spongeCase=u.lowerCaseFirst=u.localeLowerCase=u.lowerCase=u.snakeCase=u.sentenceCase=u.pathCase=u.pascalCase=u.paramCase=u.noCase=u.headerCase=u.dotCase=u.constantCase=u.capitalCase=u.camelCase=void 0;var U=Yt,Ze=er,Er=ar,Or=sr,Pr=ur,Lr=vr,Ne=hr,Ur=yr,Ar=wr,Tr=jr;u.camelCase=U.camelCase;u.capitalCase=U.capitalCase;u.constantCase=U.constantCase;u.dotCase=U.dotCase;u.headerCase=U.headerCase;u.noCase=U.noCase;u.paramCase=U.paramCase;u.pascalCase=U.pascalCase;u.pathCase=U.pathCase;u.sentenceCase=U.sentenceCase;u.snakeCase=U.snakeCase;u.lowerCase=Ze.lowerCase;u.localeLowerCase=Ze.localeLowerCase;u.lowerCaseFirst=Er.lowerCaseFirst;u.spongeCase=Or.spongeCase;u.swapCase=Pr.swapCase;u.titleCase=Lr.titleCase;u.upperCase=Ne.upperCase;u.localeUpperCase=Ne.localeUpperCase;u.upperCaseFirst=Ur.upperCaseFirst;u.isUpperCase=Ar.isUpperCase;u.isLowerCase=Tr.isLowerCase;var ie=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function le(e,t,a,r){e.addEventListener?e.addEventListener(t,a,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){a(window.event)})}function Ve(e,t){for(var a=t.slice(0,t.length-1),r=0;r<a.length;r++)a[r]=e[a[r].toLowerCase()];return a}function Je(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),a=t.lastIndexOf("");a>=0;)t[a-1]+=",",t.splice(a,1),a=t.lastIndexOf("");return t}function xr(e,t){for(var a=e.length>=t.length?e:t,r=e.length>=t.length?t:e,o=!0,n=0;n<a.length;n++)r.indexOf(a[n])===-1&&(o=!1);return o}var ye={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":ie?173:189,"=":ie?61:187,";":ie?59:186,"'":222,"[":219,"]":221,"\\":220},$={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},_e={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},O={16:!1,18:!1,17:!1,91:!1},E={};for(var G=1;G<20;G++)ye["f".concat(G)]=111+G;var C=[],je=!1,Ge="all",Qe=[],oe=function(t){return ye[t.toLowerCase()]||$[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function We(e){Ge=e||"all"}function N(){return Ge||"all"}function qr(){return C.slice(0)}function Br(e){var t=e.target||e.srcElement,a=t.tagName,r=!0;return(t.isContentEditable||(a==="INPUT"||a==="TEXTAREA"||a==="SELECT")&&!t.readOnly)&&(r=!1),r}function $r(e){return typeof e=="string"&&(e=oe(e)),C.indexOf(e)!==-1}function Mr(e,t){var a,r;e||(e=N());for(var o in E)if(Object.prototype.hasOwnProperty.call(E,o))for(a=E[o],r=0;r<a.length;)a[r].scope===e?a.splice(r,1):r++;N()===e&&We(t||"all")}function Fr(e){var t=e.keyCode||e.which||e.charCode,a=C.indexOf(t);if(a>=0&&C.splice(a,1),e.key&&e.key.toLowerCase()==="meta"&&C.splice(0,C.length),(t===93||t===224)&&(t=91),t in O){O[t]=!1;for(var r in $)$[r]===t&&(q[r]=!1)}}function Ir(e){if(!e)Object.keys(E).forEach(function(s){return delete E[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&ue(s)});else if(typeof e=="object")e.key&&ue(e);else if(typeof e=="string"){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var o=a[0],n=a[1];typeof o=="function"&&(n=o,o=""),ue({key:e,scope:o,method:n,splitKey:"+"})}}var ue=function(t){var a=t.key,r=t.scope,o=t.method,n=t.splitKey,s=n===void 0?"+":n,i=Je(a);i.forEach(function(l){var c=l.split(s),p=c.length,f=c[p-1],_=f==="*"?"*":oe(f);if(!!E[_]){r||(r=N());var w=p>1?Ve($,c):[];E[_]=E[_].filter(function(v){var j=o?v.method===o:!0;return!(j&&v.scope===r&&xr(v.mods,w))})}})};function Ee(e,t,a,r){if(t.element===r){var o;if(t.scope===a||t.scope==="all"){o=t.mods.length>0;for(var n in O)Object.prototype.hasOwnProperty.call(O,n)&&(!O[n]&&t.mods.indexOf(+n)>-1||O[n]&&t.mods.indexOf(+n)===-1)&&(o=!1);(t.mods.length===0&&!O[16]&&!O[18]&&!O[17]&&!O[91]||o||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function Oe(e,t){var a=E["*"],r=e.keyCode||e.which||e.charCode;if(!!q.filter.call(this,e)){if((r===93||r===224)&&(r=91),C.indexOf(r)===-1&&r!==229&&C.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(v){var j=_e[v];e[v]&&C.indexOf(j)===-1?C.push(j):!e[v]&&C.indexOf(j)>-1?C.splice(C.indexOf(j),1):v==="metaKey"&&e[v]&&C.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(C=C.slice(C.indexOf(j))))}),r in O){O[r]=!0;for(var o in $)$[o]===r&&(q[o]=!0);if(!a)return}for(var n in O)Object.prototype.hasOwnProperty.call(O,n)&&(O[n]=e[_e[n]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(C.indexOf(17)===-1&&C.push(17),C.indexOf(18)===-1&&C.push(18),O[17]=!0,O[18]=!0);var s=N();if(a)for(var i=0;i<a.length;i++)a[i].scope===s&&(e.type==="keydown"&&a[i].keydown||e.type==="keyup"&&a[i].keyup)&&Ee(e,a[i],s,t);if(r in E){for(var l=0;l<E[r].length;l++)if((e.type==="keydown"&&E[r][l].keydown||e.type==="keyup"&&E[r][l].keyup)&&E[r][l].key){for(var c=E[r][l],p=c.splitKey,f=c.key.split(p),_=[],w=0;w<f.length;w++)_.push(oe(f[w]));_.sort().join("")===C.sort().join("")&&Ee(e,c,s,t)}}}}function Kr(e){return Qe.indexOf(e)>-1}function q(e,t,a){C=[];var r=Je(e),o=[],n="all",s=document,i=0,l=!1,c=!0,p="+",f=!1;for(a===void 0&&typeof t=="function"&&(a=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(n=t.scope),t.element&&(s=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(f=t.capture),typeof t.splitKey=="string"&&(p=t.splitKey)),typeof t=="string"&&(n=t);i<r.length;i++)e=r[i].split(p),o=[],e.length>1&&(o=Ve($,e)),e=e[e.length-1],e=e==="*"?"*":oe(e),e in E||(E[e]=[]),E[e].push({keyup:l,keydown:c,scope:n,mods:o,shortcut:r[i],method:a,key:r[i],splitKey:p,element:s});typeof s<"u"&&!Kr(s)&&window&&(Qe.push(s),le(s,"keydown",function(_){Oe(_,s)},f),je||(je=!0,le(window,"focus",function(){C=[]},f)),le(s,"keyup",function(_){Oe(_,s),Fr(_)},f))}function Dr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(E).forEach(function(a){var r=E[a].find(function(o){return o.scope===t&&o.shortcut===e});r&&r.method&&r.method()})}var ce={setScope:We,getScope:N,deleteScope:Mr,getPressedKeyCodes:qr,isPressed:$r,filter:Br,trigger:Dr,unbind:Ir,keyMap:ye,modifier:$,modifierMap:_e};for(var fe in ce)Object.prototype.hasOwnProperty.call(ce,fe)&&(q[fe]=ce[fe]);if(typeof window<"u"){var zr=window.hotkeys;q.noConflict=function(e){return e&&window.hotkeys===q&&(window.hotkeys=zr),q},window.hotkeys=q}const Rr="v1",me={keyBindings:{moveBlock:"mod+shift+m"},settingsVersion:Rr,disabled:!1},Hr=()=>{let e=logseq.settings;(!e||e.settingsVersion!=me.settingsVersion)&&(e=me,logseq.updateSettings(e))},Zr=(e,t=void 0)=>{const a=logseq.settings,r=Object.assign(me,a);return e?r[e]?r[e]:t:r},Nr=async function(e){const t=await logseq.Editor.getPageBlocksTree(e);return t.length===0?null:t[0]},te=async function(e){const t=await logseq.Editor.getPageBlocksTree(e);return t.length===0?null:t[t.length-1]},Xe=async function(e,t=!1){await logseq.Editor.getPage(e)?await te(e)===null&&(await logseq.Editor.deletePage(e),await logseq.Editor.createPage(e,{},{createFirstBlock:!0,redirect:!1,journal:t})):await logseq.Editor.createPage(e,{},{createFirstBlock:!0,redirect:!1,journal:t})};async function Vr(){q("enter",()=>(ne().submit(),!1))}const Pe=async(e,t)=>{if(!e||!e.content||/^\s+$/gm.test(e.content))return logseq.App.showMsg("Cannot move empty block"),!1;const a=await logseq.App.getUserConfigs(),{to:r,action:o,journal:n,after:s,page:i,at:l}=t;let c,p=!1;switch(r){case"today":c=J.formatInTimeZone(new Date,Intl.DateTimeFormat().resolvedOptions().timeZone,a.preferredDateFormat),p=!0;break;case"yesterday":c=J.formatInTimeZone(ft(new Date,1),Intl.DateTimeFormat().resolvedOptions().timeZone,a.preferredDateFormat),p=!0;break;case"tomorrow":c=J.formatInTimeZone(ct(new Date,1),Intl.DateTimeFormat().resolvedOptions().timeZone,a.preferredDateFormat),p=!0;break;case"contents":c="contents";break;case"current_page":let v=await logseq.Editor.getCurrentPage();if(!v){const j=await logseq.Editor.getCurrentBlock();j&&(v=await logseq.Editor.getPage(j.page.id))}c=v.name;break;case"page":c=i;break;case"journal":n||logseq.App.showMsg("Journal should not be empty"),c=J.formatInTimeZone(n,Intl.DateTimeFormat().resolvedOptions().timeZone,a.preferredDateFormat);break}e?.properties?.id||await logseq.Editor.upsertBlockProperty(e.uuid,"id",e.uuid),await Xe(c,p);let f;l==="bottom"?f=await te(c):f=await Nr(c),await te(c);let _,w;switch(o){case"copy_ref":w=`((${e.uuid}))`;break;case"copy_embed":w=`{{embed ((${e.uuid}))}}`;break;case"copy_content":w=e.content.split(`
`).filter(v=>v.indexOf("id:: ")===-1).join(`
`);break}if(f)["copy_ref","copy_embed","copy_content"].includes(o)?f.content?_=await logseq.Editor.insertBlock(f.uuid,w,{before:l!=="bottom",sibling:!0}):(await logseq.Editor.updateBlock(f.uuid,w),_=f):["cut_content","cut_content_and_keep_ref","cut_content_and_keep_embed"].includes(o)&&(o==="cut_content_and_keep_ref"?await logseq.Editor.insertBlock(e.uuid,`((${e.uuid}))`,{before:!1,sibling:!0}):o==="cut_content_and_keep_embed"&&await logseq.Editor.insertBlock(e.uuid,`{{embed ((${e.uuid}))}}`,{before:!1,sibling:!0}),await logseq.Editor.moveBlock(e.uuid,f.uuid,{before:l!=="bottom",children:!1}),_=await logseq.Editor.getBlock(e.uuid));else return logseq.App.showMsg("Target page empty, block movement failed!"),!1;return{targetPage:c,targetBlock:_}},ne=qt("target",{state:()=>({fallbackUUID:"",visible:!1,destination:{to:"today",at:"bottom",action:"copy_ref",journal:null,after:"stay",page:""},pages:[],history:[]}),actions:{addHistory(e){if(this.history.length>0){const t=this.history[this.history.length-1];if(t.to===e.to&&t.journal===e.journal&&t.page===e.page&&t.at===e.at&&t.action===e.action&&t.after===e.after)return}this.history.push({to:e.to,journal:e.journal,page:e.page,at:e.at,action:e.action,after:e.after}),this.history.length>15&&this.history.shift()},setFallbackUUID(e){this.fallbackUUID=e},clearFallbackUUID(e){this.fallbackUUID=""},async loadPages(){const e=await logseq.DB.datascriptQuery(`
        [:find ?page-name (pull ?page [*])
          :where
          [?page :block/name ?page-name]
          [?page :block/journal? false]
        ]
      `);this.pages=e.map(t=>t[0])},open(){this.visible=!0},hide(){logseq.hideMainUI({restoreEditingCursor:!0})},async submit(){const{to:e,action:t,journal:a,after:r,page:o,at:n}=this.destination;this.addHistory(this.destination);const s=await logseq.Editor.getSelectedBlocks();let i;if(s&&s.length>1){for(let l of s)if(i=await Pe(l,this.destination),!i)return}else{let l=await logseq.Editor.getCurrentBlock();if(l||(l=await logseq.Editor.getBlock(this.fallbackUUID)),l&&(i=await Pe(l,this.destination),!i))return}if(r==="jump"&&i){const{targetPage:l,targetBlock:c}=i;l&&c&&await logseq.Editor.scrollToBlockInPage(l,c.uuid)}this.clearFallbackUUID(),logseq.hideMainUI({restoreEditingCursor:!0})}}});var Ye={exports:{}};(function(e,t){(function(){var a={};e.exports=a,a.simpleFilter=function(r,o){return o.filter(function(n){return a.test(r,n)})},a.test=function(r,o){return a.match(r,o)!==null},a.match=function(r,o,n){n=n||{};var s=0,i=[],l=o.length,c=0,p=0,f=n.pre||"",_=n.post||"",w=n.caseSensitive&&o||o.toLowerCase(),v;r=n.caseSensitive&&r||r.toLowerCase();for(var j=0;j<l;j++)v=o[j],w[j]===r[s]?(v=f+v+_,s+=1,p+=1+p):p=0,c+=p,i[i.length]=v;return s===r.length?(c=w===r?1/0:c,{rendered:i.join(""),score:c}):null},a.filter=function(r,o,n){return!o||o.length===0?[]:typeof r!="string"?o:(n=n||{},o.reduce(function(s,i,l,c){var p=i;n.extract&&(p=n.extract(i));var f=a.match(r,p,n);return f!=null&&(s[s.length]={string:f.rendered,score:f.score,index:l,original:i}),s},[]).sort(function(s,i){var l=i.score-s.score;return l||s.index-i.index}))}})()})(Ye);var Jr=Ye.exports;const Gr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Qr=m("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",fill:"currentColor"},null,-1),Wr=[Qr];function Xr(e,t){return M(),de("svg",Gr,Wr)}var Yr={render:Xr};const ea=b(" Move block "),ta={class:"flex flex-row"},ra=b(" Today's journal "),aa=b(" Yesterday's journal "),oa=b(" Tomorrow's journal "),na=b(" Contents "),sa=b(" Current page "),ia=b(" A journal "),la=b(" A page "),ua=b(" Bottom "),ca=b(" Top "),fa=b(" Copy block ref "),da=b(" A block ref is an unique ID to reference the block "),pa=b(" Copy block embed "),ga=b(" Copy content "),_a=m("span",{class:""},"Cut content",-1),ma=b(" Cut content and keep ref to target "),va=b(" Cut content and keep embed to target "),ha=b(" Stay on current page "),ya=b(" Jump to target page "),Ca={class:"card-header"},ba=m("span",null,"History",-1),wa=b("Clear"),ka=m("div",{class:"font-bold mb-2"},"History",-1),Sa={class:"list-disc list-inside h-[500px] overflow-y-auto"},ja=["onClick"],Ea=b(" to "),Oa=b(" at "),Pa=b(" then "),La=b(". "),Ua=b(" OK "),Aa=dt({setup(e){const t=ne(),a=qe(()=>Jr.filter(t.destination.page,t.pages,{}).map(o=>({label:o.original,value:o.original}))),r=o=>{t.destination.to=o.to,t.destination.at=o.at,t.destination.page=o.page,t.destination.journal=o.journal,t.destination.after=o.after,t.destination.action=o.action};return(o,n)=>{const s=vt,i=ht,l=yt,c=Ct,p=bt,f=pt,_=wt,w=kt,v=be("el-button"),j=be("el-card"),V=St,se=gt;return M(),Q(se,{show:y(t).visible,"onUpdate:show":n[7]||(n[7]=h=>y(t).visible=h),"close-on-esc":!0,closable:!0,"mask-closable":!0,"auto-focus":!0,"show-icon":!1,"on-close":y(t).hide,"on-esc":y(t).hide,"on-mask-click":y(t).hide,"transform-origin":"center",preset:"dialog"},{header:d(()=>[ea]),action:d(()=>[g(V,{strong:"",secondary:"",type:"primary",onClick:n[6]||(n[6]=h=>y(t).submit())},{default:d(()=>[Ua]),_:1})]),default:d(()=>[m("div",ta,[m("div",null,[g(w,{ref:"formRef","label-width":120,"label-placement":"left",model:y(t).destination,size:"small",onSubmit:y(t).submit},{default:d(()=>[g(l,{label:"To:",path:"to"},{default:d(()=>[g(i,{value:y(t).destination.to,"onUpdate:value":n[0]||(n[0]=h=>y(t).destination.to=h),name:"radiogroup"},{default:d(()=>[m("div",null,[g(s,{key:"today",value:"today"},{default:d(()=>[ra]),_:1})]),m("div",null,[g(s,{key:"yesterday",value:"yesterday"},{default:d(()=>[aa]),_:1})]),m("div",null,[g(s,{key:"tomorrow",value:"tomorrow"},{default:d(()=>[oa]),_:1})]),m("div",null,[g(s,{key:"contents",value:"contents"},{default:d(()=>[na]),_:1})]),m("div",null,[g(s,{key:"current_page",value:"current_page"},{default:d(()=>[sa]),_:1})]),m("div",null,[g(s,{key:"journal",value:"journal"},{default:d(()=>[ia]),_:1})]),m("div",null,[g(s,{key:"page",value:"page"},{default:d(()=>[la]),_:1})])]),_:1},8,["value"])]),_:1}),y(t).destination.to==="journal"?(M(),Q(l,{key:0,label:" ",path:"journal"},{default:d(()=>[g(c,{"formatted-value":y(t).destination.journal,"onUpdate:formatted-value":n[1]||(n[1]=h=>y(t).destination.journal=h),"value-format":"yyyy-MM-dd",type:"date",clearable:"",placeholder:"Select journal"},null,8,["formatted-value"])]),_:1})):we("",!0),y(t).destination.to==="page"?(M(),Q(l,{key:1,label:" ",path:"page"},{default:d(()=>[g(p,{value:y(t).destination.page,"onUpdate:value":n[2]||(n[2]=h=>y(t).destination.page=h),"input-props":{autocomplete:"disabled"},options:y(a),placeholder:"Input page name"},null,8,["value","options"])]),_:1})):we("",!0),g(l,{label:"At:",path:"at"},{default:d(()=>[g(i,{value:y(t).destination.at,"onUpdate:value":n[3]||(n[3]=h=>y(t).destination.at=h),name:"radiogroup"},{default:d(()=>[m("div",null,[g(s,{key:"bottom",value:"bottom"},{default:d(()=>[ua]),_:1})]),m("div",null,[g(s,{key:"top",value:"top"},{default:d(()=>[ca]),_:1})])]),_:1},8,["value"])]),_:1}),g(l,{label:"Action:",path:"action"},{default:d(()=>[g(i,{value:y(t).destination.action,"onUpdate:value":n[4]||(n[4]=h=>y(t).destination.action=h),name:"radiogroup"},{default:d(()=>[m("div",null,[g(s,{key:"copy_ref",value:"copy_ref"},{default:d(()=>[fa,g(_,{trigger:"hover",class:""},{trigger:d(()=>[g(f,{class:"inline-block ml-1 -mb-[2px]"},{default:d(()=>[g(y(Yr))]),_:1})]),default:d(()=>[da]),_:1})]),_:1})]),m("div",null,[g(s,{key:"copy_embed",value:"copy_embed"},{default:d(()=>[pa]),_:1})]),m("div",null,[g(s,{key:"copy_content",value:"copy_content"},{default:d(()=>[ga]),_:1})]),m("div",null,[g(s,{key:"cut_content",value:"cut_content",class:""},{default:d(()=>[_a]),_:1})]),m("div",null,[g(s,{key:"cut_content_and_keep_ref",value:"cut_content_and_keep_ref"},{default:d(()=>[ma]),_:1})]),m("div",null,[g(s,{key:"cut_content_and_keep_embed",value:"cut_content_and_keep_embed"},{default:d(()=>[va]),_:1})])]),_:1},8,["value"])]),_:1}),g(l,{label:"After:",path:"after"},{default:d(()=>[g(i,{value:y(t).destination.after,"onUpdate:value":n[5]||(n[5]=h=>y(t).destination.after=h),name:"radiogroup"},{default:d(()=>[m("div",null,[g(s,{key:"stay",value:"stay"},{default:d(()=>[ha]),_:1})]),m("div",null,[g(s,{key:"jump",value:"jump"},{default:d(()=>[ya]),_:1})])]),_:1},8,["value"])]),_:1})]),_:1},8,["model","onSubmit"])]),m("div",null,[g(j,{class:"history-card"},{header:d(()=>[m("div",Ca,[ba,g(v,{class:"button",text:""},{default:d(()=>[wa]),_:1})])]),default:d(()=>[ka,m("ul",Sa,[(M(!0),de(mt,null,_t(y(t).history,h=>(M(),de("li",{key:h,class:""},[m("span",{onClick:Ce=>r(h),class:"cursor-pointer"},[m("b",null,F(y(u).sentenceCase(h.action)),1),Ea,m("b",null,F(h.to)+" "+F(h.to==="page"?h.page:"")+" "+F(h.to==="journal"?h.journal:""),1),Oa,m("b",null,F(h.at),1),Pa,m("b",null,F(h.after),1),La],8,ja)]))),128))])]),_:1})])])]),_:1},8,["show","on-close","on-esc","on-mask-click"])}}});var Ta=(e,t)=>{const a=e.__vccOpts||e;for(const[r,o]of t)a[r]=o;return a};const xa={};function qa(e,t){const a=Aa;return M(),Q(a)}var Ba=Ta(xa,[["render",qa]]);const Le=async e=>{const t=await logseq.Editor.getBlock(e.uuid),a=await logseq.App.getUserConfigs();if(t?.properties?.id||await logseq.Editor.upsertBlockProperty(e.uuid,"id",e.uuid),t&&t.content){const r=jt(new Date,a.preferredDateFormat);await Xe(r,!0);const o=await te(r);o&&(o.content?await logseq.Editor.insertBlock(o.uuid,`((${t.uuid}))`,{sibling:!0}):await logseq.Editor.updateBlock(o.uuid,`((${t.uuid}))`))}};var $a=()=>{logseq.Editor.registerSlashCommand("Copy block ref to today's journal",Le),logseq.Editor.registerBlockContextMenuItem("Copy block ref to today's journal",Le)},Ma=()=>{const e=Zr("keyBindings"),t=async({uuid:a})=>{const r=ne();a&&r.setFallbackUUID(a),r.open(),logseq.showMainUI({autoFocus:!0})};logseq.App.registerCommandPalette({key:"move-block",label:"Move block",keybinding:{mode:"global",binding:e.moveBlock}},t),logseq.Editor.registerSlashCommand("Move Block",t),logseq.Editor.registerBlockContextMenuItem("Move Block",t)};async function Fa(){Hr(),$a();const e=Et(Ba);e.use(Lt()),e.mount("#app"),Ma(),Vr(),logseq.on("ui:visible:changed",t=>{if(!t)return;ne().loadPages()})}logseq.ready(Fa).catch(console.error);
