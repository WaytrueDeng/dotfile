import"./vendor.852ef3a4.js";const u=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}};u();console.log("=== logseq-plugin-open-in-external-app loaded ==="),logseq.ready(()=>{(logseq.settings?.menus||[]).forEach(t=>{logseq.Editor.registerBlockContextMenuItem(`Open in External App: ${t.menuName}`,async s=>{const n=await logseq.Editor.getBlock(s.uuid),e=new RegExp(t.pathRegExp).exec(n?.content||"");if(!e)return logseq.App.showMsg(`Can't find file path in block:
${n?.content}`,"error");const o=e[1];if(o?.split(".")?.pop?.()!==t.extensionName)return logseq.App.showMsg(`File extension is not ${t.extensionName}`,"error");const i=t.apps[0],{path:l}=await logseq.App.getCurrentGraph()||{};if(!l)return logseq.App.showMsg("Can't open file, no graph is opened");const c=l+"/"+o,a=i.openSchema.replace("{path}",c);window.open(a,"_blank"),logseq.App.showMsg(`File ${o} opened in ${i.title}`)})})});
